---
title: "Software QA Tutorial"
description: "Build a QA agent that clicks through UI elements in a desktop application."
icon: "bug"
---

# Software QA Tutorial

Build a TaskerAgent that automates UI testing by clicking through every sidebar button in an application. We'll use the standard TaskerAgent to systematically navigate through UI elements and generate an execution history for review.

## What You'll Build

- Automated clicking through all sidebar navigation items
- Execution summary with todo status tracking
- HTML execution history for debugging and compliance

<Card title="Source Code" icon="github" href="https://github.com/agiopen-org/oagi-lux-samples">
  Clone the sample repository to get the complete source code for this tutorial.
</Card>

## Prerequisites

1. **OAGI credentials** ‚Äì Generate an API key at [developer.openagi.org](https://developer.openagi.org/) and export it in your shell:
   ```bash
   export OAGI_API_KEY="sk-your-key"
   export OAGI_BASE_URL="https://api.agiopen.org"
   ```
2. **Python ‚â• 3.10**:
   ```bash
   pip install "oagi>=0.10.1"
   ```
3. **Nuclear Player** ‚Äì We'll use [Nuclear](https://github.com/nukeop/nuclear), an open-source streaming music player built with Electron. Install and run it locally so the agent can target its UI:
   ```bash
   git clone https://github.com/nukeop/nuclear.git
   cd nuclear
   npm install
   npm start
   ```

## Project Layout

If you cloned the [sample repository](https://github.com/agiopen-org/oagi-lux-samples), the source code is already available at:

```
tasker_examples/software_qa_with_nuclear/
‚îú‚îÄ‚îÄ software_qa.py
```

Once you have Nuclear running, you can execute the script directly:

```bash
python tasker_examples/software_qa_with_nuclear/software_qa.py
```

Or if you're following along, create your own file `nuclear_qa.py`:

We'll assemble the script in five steps:

1. Bootstrap the project with imports
2. Define the QA workflow as todos
3. Initialize and configure the agent
4. Execute and collect results
5. Export the execution history

### Step 1 ‚Äî Bootstrap the project

Start with the imports you'll need:

```python
import argparse
import asyncio
import os
import traceback
from datetime import datetime

from oagi import AsyncScreenshotMaker
from oagi.agent.observer import AsyncAgentObserver
from oagi.agent.tasker import TaskerAgent
from oagi.handler import AsyncPyautoguiActionHandler


async def main():
    print("Bootstrapping QA Tasker‚Ä¶")


if __name__ == "__main__":
    asyncio.run(main())
```

### Step 2 ‚Äî Define the QA workflow

Define todos for each UI element you want to test:

```python
    instruction = "QA: click through every sidebar button in the Nuclear Player UI"
    todos = [
        "Click on 'Dashboard' in the left sidebar",
        "Click on 'Downloads' in the left sidebar",
        "Click on 'Lyrics' in the left sidebar",
        "Click on 'Plugins' in the left sidebar",
        "Click on 'Search Results' in the left sidebar",
        "Click on 'Settings' in the left sidebar",
        "Click on 'Equalizer' in the left sidebar",
        "Click on 'Visualizer' in the left sidebar",
        "Click on 'Listening History' in the left sidebar",
        "Click on 'Favorite Albums' in the left sidebar",
        "Click on 'Favorite Tracks' in the left sidebar",
        "Click on 'Favorite Artists' in the left sidebar",
        "Click on 'Local Library' in the left sidebar",
        "Click on 'Playlists' in the left sidebar",
    ]
```

**Key tip:** Be specific about UI element locations. "in the left sidebar" helps the agent locate the correct element.

### Step 3 ‚Äî Initialize and configure the agent

Set up argument parsing and initialize all components:

```python
    parser = argparse.ArgumentParser(description='Run QA Agent on Nuclear Player')
    parser.add_argument('--exp_name', type=str, default='nuclear_qa')
    parser.add_argument('--save_dir', type=str, default='results/')
    parser.add_argument('--model_name', type=str, default='lux-actor-1')
    parser.add_argument('--max_steps', type=int, default=24)
    parser.add_argument('--temperature', type=float, default=0.0)

    args = parser.parse_args()

    save_dir = os.path.join(args.save_dir, args.exp_name)
    os.makedirs(save_dir, exist_ok=True)

    # Initialize automation toolkit
    observer = AsyncAgentObserver()
    image_provider = AsyncScreenshotMaker()
    action_handler = AsyncPyautoguiActionHandler()

    tasker = TaskerAgent(
        api_key=os.getenv("OAGI_API_KEY"),
        base_url=os.getenv("OAGI_BASE_URL", "https://api.agiopen.org"),
        model=args.model_name,
        max_steps=args.max_steps,
        temperature=args.temperature,
        step_observer=observer,
    )

    tasker.set_task(task=instruction, todos=todos)
```

### Step 4 ‚Äî Execute and collect results

Run the agent and display detailed results:

```python
    print(f"Starting task execution at {datetime.now()}")
    print(f"Task: {instruction}")
    print(f"Number of todos: {len(todos)}")
    print("=" * 60)

    try:
        success = await tasker.execute(
            instruction="",
            action_handler=action_handler,
            image_provider=image_provider,
        )

        memory = tasker.get_memory()

        print("\n" + "=" * 60)
        print("EXECUTION SUMMARY")
        print("=" * 60)
        print(f"Overall success: {success}")
        print(f"\nTask execution summary:\n{memory.task_execution_summary}")

        print("\nTodo Status:")
        for i, todo in enumerate(memory.todos):
            status_icon = {
                "completed": "‚úÖ",
                "pending": "‚è≥",
                "in_progress": "üîÑ",
                "skipped": "‚è≠Ô∏è",
            }.get(todo.status.value, "‚ùì")
            print(f"  {status_icon} [{i + 1}] {todo.description} - {todo.status.value}")

        status_summary = memory.get_todo_status_summary()
        print("\nExecution Statistics:")
        print(f"  Completed: {status_summary.get('completed', 0)}")
        print(f"  Pending: {status_summary.get('pending', 0)}")
        print(f"  In Progress: {status_summary.get('in_progress', 0)}")
        print(f"  Skipped: {status_summary.get('skipped', 0)}")

    except Exception as e:
        print(f"\n‚ùå Error during execution: {e}")
        traceback.print_exc()
```

### Step 5 ‚Äî Export the execution history

Save the HTML execution history for debugging:

```python
    output_file = os.path.join(save_dir, "nuclear_qa_execution_history.html")
    observer.export("html", output_file)
    print(f"\nüìÑ Execution history exported to: {output_file}")
```

## Run the Workflow

Launch the QA automation (make sure Nuclear Player is open and visible):

```bash
python nuclear_qa.py
```

## Understanding the Output

- **Console summary** ‚Äì Displays per-todo success with emoji indicators
- **HTML export** ‚Äì Full execution history with screenshots at `results/<exp_name>/nuclear_qa_execution_history.html`

## Full Source Listing

Here is the complete script assembled from the steps above:

```python
import argparse
import asyncio
import os
import traceback
from datetime import datetime

from oagi import AsyncScreenshotMaker
from oagi.agent.observer import AsyncAgentObserver
from oagi.agent.tasker import TaskerAgent
from oagi.handler import AsyncPyautoguiActionHandler


async def main():
    parser = argparse.ArgumentParser(description='Run QA Agent on Nuclear Player')
    parser.add_argument('--exp_name', type=str, default='nuclear_qa')
    parser.add_argument('--save_dir', type=str, default='results/')
    parser.add_argument('--model_name', type=str, default='lux-actor-1')
    parser.add_argument('--max_steps', type=int, default=24)
    parser.add_argument('--temperature', type=float, default=0.0)

    args = parser.parse_args()

    save_dir = os.path.join(args.save_dir, args.exp_name)
    os.makedirs(save_dir, exist_ok=True)

    instruction = "QA: click through every sidebar button in the Nuclear Player UI"
    todos = [
        "Click on 'Dashboard' in the left sidebar",
        "Click on 'Downloads' in the left sidebar",
        "Click on 'Lyrics' in the left sidebar",
        "Click on 'Plugins' in the left sidebar",
        "Click on 'Search Results' in the left sidebar",
        "Click on 'Settings' in the left sidebar",
        "Click on 'Equalizer' in the left sidebar",
        "Click on 'Visualizer' in the left sidebar",
        "Click on 'Listening History' in the left sidebar",
        "Click on 'Favorite Albums' in the left sidebar",
        "Click on 'Favorite Tracks' in the left sidebar",
        "Click on 'Favorite Artists' in the left sidebar",
        "Click on 'Local Library' in the left sidebar",
        "Click on 'Playlists' in the left sidebar",
    ]

    observer = AsyncAgentObserver()
    image_provider = AsyncScreenshotMaker()
    action_handler = AsyncPyautoguiActionHandler()

    tasker = TaskerAgent(
        api_key=os.getenv("OAGI_API_KEY"),
        base_url=os.getenv("OAGI_BASE_URL", "https://api.agiopen.org"),
        model=args.model_name,
        max_steps=args.max_steps,
        temperature=args.temperature,
        step_observer=observer,
    )

    tasker.set_task(task=instruction, todos=todos)

    print(f"Starting task execution at {datetime.now()}")
    print(f"Task: {instruction}")
    print(f"Number of todos: {len(todos)}")
    print("=" * 60)

    try:
        success = await tasker.execute(
            instruction="",
            action_handler=action_handler,
            image_provider=image_provider,
        )

        memory = tasker.get_memory()

        print("\n" + "=" * 60)
        print("EXECUTION SUMMARY")
        print("=" * 60)
        print(f"Overall success: {success}")
        print(f"\nTask execution summary:\n{memory.task_execution_summary}")

        print("\nTodo Status:")
        for i, todo in enumerate(memory.todos):
            status_icon = {
                "completed": "‚úÖ",
                "pending": "‚è≥",
                "in_progress": "üîÑ",
                "skipped": "‚è≠Ô∏è",
            }.get(todo.status.value, "‚ùì")
            print(f"  {status_icon} [{i + 1}] {todo.description} - {todo.status.value}")

        status_summary = memory.get_todo_status_summary()
        print("\nExecution Statistics:")
        print(f"  Completed: {status_summary.get('completed', 0)}")
        print(f"  Pending: {status_summary.get('pending', 0)}")
        print(f"  In Progress: {status_summary.get('in_progress', 0)}")
        print(f"  Skipped: {status_summary.get('skipped', 0)}")

    except Exception as e:
        print(f"\n‚ùå Error during execution: {e}")
        traceback.print_exc()

    output_file = os.path.join(save_dir, "nuclear_qa_execution_history.html")
    observer.export("html", output_file)
    print(f"\nüìÑ Execution history exported to: {output_file}")


if __name__ == '__main__':
    asyncio.run(main())
```

## Adapting for Your Application

To use this pattern with a different application:

1. **Update the todos** ‚Äì Replace sidebar button names with your app's UI elements
2. **Be specific** ‚Äì Include location hints like "in the left sidebar" or "at the top of the page"
3. **Add more todos** ‚Äì Test additional flows like settings panels, menu systems, or wizard flows

This pattern works for any desktop application with navigable UI elements.

## Troubleshooting

| Symptom | Likely cause | Fix |
| --- | --- | --- |
| Agent clicks wrong element | Ambiguous UI or overlapping elements | Make todo instructions more specific (e.g., "in the left sidebar") |
| Execution times out | Too many steps required | Increase `--max_steps` or simplify todos |
| Nuclear Player not found | App not visible or minimized | Ensure Nuclear is open and visible on screen |

With this workflow you now have a reusable QA automation pattern using OAGI's TaskerAgent for desktop UI testing.
